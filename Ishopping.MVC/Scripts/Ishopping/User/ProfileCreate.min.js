function GetTemplate(){$.ajax({url:"/Profiles/GetTemplate",type:"POST",data:{group:group},dataType:"json"}).success(function(n){$("#value").empty();$("#ddmTemplate").empty();$(n.template).each(function(n,t){$("#ddmTemplate").append("<li><a name='TemplateCod' id='"+t.Key+"'>"+t.Value+"<\/a><\/li>")});$("#value").append("<span class='color1'>"+txt+n.value+" por mês.<\/span>")}).error(function(){alert("Nenhum resultado encontrado")})}function GetView(){$.ajax({url:"/Profiles/GetView",data:{templateCod:templateCod},type:"POST",dataType:"json"}).success(function(n){$("#ddmView").empty();$(n).each(function(n,t){$("#ddmView").append("<li><a name='ViewStart' id='"+t.cod+"'>"+t.name+"<\/a><\/li>")})}).error(function(){alert("Nenhum resultado encontrado")})}function Salvar(){var t=$("#defaultForm"),n={};return t.find("[name]").not("[name=__RequestVerificationToken]").each(function(t,i){var r=$(this),u=r.attr("name"),i=r.val();n[u]=i}),n.Group=group,n.TemplateCod=templateCod,n.ViewStart=viewCod,myJSON=JSON.stringify(n),$.ajax({url:"/Profiles/CreateProfile",data:{dados:myJSON},type:"POST",headers:{__RequestVerificationToken:token},dataType:"json",beforeSend:function(){loadingOn()}}).success(function(n){n.isRedirect?window.location.href=n.redirectUrl:(loadingOff(),$("#Status").html(n.message),$("#Status").fadeIn(500))}).error(function(){loadingOff();alert("Erro na tentativa de salvar dados")}),!1}function loadingOn(){viewDisabled();$(".container").css({opacity:.3});$("#defaultForm").append('<img id="imgload" src="../../Images/Ishopping/loading.gif" />')}function loadingOff(){viewEnable();$(".container").css({opacity:1});$("#imgload").remove()}function viewDisabled(){$("input,button,textarea").prop("disabled",!0)}function viewEnable(){$("input,button,textarea").prop("disabled",!1)}function getResult(n,t){$("[name=Latitude]").val(n);$("[name=Longitude]").val(t)}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function loadLatLon(){var n=getCookie("lat"),t=getCookie("lon");n!=""&&t!=""?getResult(n,t):getThisLatLong()}function getThisLatLong(){function n(){}function t(n){var t=n.coords.latitude.toPrecision(9),i=n.coords.longitude.toPrecision(9);t!=""&&t!=null&&(setCookie("lat",t,365),setCookie("lon",i,365),getResult(t,i))}var i=document.getElementById("mapa");navigator.geolocation.getCurrentPosition(t,n)}var txt="Valor atual do plano:  ",group,templateCod,viewCod,token=$("[name=__RequestVerificationToken]").val();$(window).load(function(){loadLatLon()});$(document).ready(function(){$(".dropdown-toggle").dropdown();$("[name='Group']").on("click",function(){var n=$(this).text();group=$(this).attr("id");group=group.replace("g_","");$(this).parents(".btn-group").find(".group").html(n+"   <span class='caret'><\/span>");GetTemplate()});$(document).on("click","[name='TemplateCod']",function(){var n=$(this).text();templateCod=$(this).attr("id");$(this).parents(".btn-group").find(".template").html(n+"   <span class='caret'><\/span>");GetView()});$(document).on("click","[name='ViewStart']",function(){var n=$(this).text();viewCod=$(this).attr("id");$(this).parents(".btn-group").find(".view").html(n+"   <span class='caret'><\/span>")});$(document).ready(function(){$("#defaultForm").bootstrapValidator({message:"This value is not valid",fields:{SiteNumber:{validators:{notEmpty:{},remote:{url:"/Profiles/RemoteValidate",type:"POST"},between:{min:111111111,max:999999999},remote:{url:"/Profiles/RemoteValidateSiteNumber",type:"POST",message:"Este número já está em uso"}}},SiteName:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:24,message:"O campo Nome do Site deve conter entre 4 e 24 digitos"},remote:{url:"/Profiles/RemoteValidateSiteName",type:"POST",message:"Este nome já está em uso"}}},Semantica1:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:24,message:"O campo Palavra Chave deve conter entre 4 e 24 digitos"}}},Semantica2:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:24,message:"O campo Palavra Chave deve conter entre 4 e 24 digitos"}}},Semantica3:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:24,message:"O campo Palavra Chave deve conter entre 4 e 24 digitos"}}},Semantica4:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:24,message:"O campo Palavra Chave deve conter entre 4 e 24 digitos"}}},Empresa:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},notEmpty:{},stringLength:{min:4,max:32,message:"O campo Nome deve conter entre 4 e 32 digitos"},remote:{url:"/Profiles/RemoteValidateEmpresa",type:"POST",message:"Este nome já está em uso"}}},Cnpj:{validators:{regexp:{regexp:/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/,message:"O CNPJ é inválido"},remote:{url:"/Profiles/RemoteValidateCnpj",type:"POST",message:"Este CNPJ já está em uso"}}},Rua:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{max:64}}},NumRua:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-z ]+$/,message:"Apenas letras e números são permitidos"},stringLength:{max:5}}},Distrito:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:32,message:"O campo Distrito deve conter entre 4 e 32 digitos"}}},Cidade:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras, acentos e números são permitidos"},stringLength:{min:4,max:32,message:"O campo Cidade deve conter entre 4 e 32 digitos"}}},Estado:{validators:{notEmpty:{},regexp:{regexp:/^([^0-9]*)$/,message:"Apenas letras são permitidas"},stringLength:{min:2,max:2,message:"O campo Estado deve conter 2 digitos"}}},CEP:{validators:{notEmpty:{},regexp:{regexp:/^([0-9]){5}([-])([0-9]){3}$/,message:"O CEP é inválido"}}},Telefone:{validators:{notEmpty:{},integer:{message:"Apenas números são permitidos"},stringLength:{min:10,max:12,message:"O campo Telefone deve conter entre 10 e 12 digitos"}}},Telefone2:{validators:{integer:{message:"Apenas números são permitidos"},stringLength:{min:10,max:12,message:"O campo Telefone deve conter entre 10 e 12 digitos"}}},WhatsApp:{validators:{integer:{message:"Apenas números são permitidos"},stringLength:{min:10,max:12,message:"O campo WhatsApp deve conter entre 10 e 12 digitos"}}},Email:{validators:{notEmpty:{},emailAddress:{},remote:{url:"/Profiles/RemoteValidateEmail",type:"POST",message:"Este email já está em uso"}}},Website:{validators:{uri:{allowLocal:!1},remote:{url:"/Profiles/RemoteValidateWebsite",type:"POST",message:"Este site já está em uso"}}},LatitudeA:{validators:{regexp:{regexp:/^(\+|-)?(?:90(?:(?:\.0{7,7})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{7,7})?))$/,message:"Latitude inválida"},stringLength:{min:11,max:11,message:"O campo Latitude deve conter 11 digitos"}}},LongitudeA:{validators:{regexp:{regexp:/^(\+|-)?(?:180(?:(?:\.0{7,7})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{7,7})?))$/,message:"Longitude inválida"},stringLength:{min:11,max:11,message:"O campo Longitude deve conter 11 digitos"}}}}}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target),i=t.data("bootstrapValidator");Salvar()})})});