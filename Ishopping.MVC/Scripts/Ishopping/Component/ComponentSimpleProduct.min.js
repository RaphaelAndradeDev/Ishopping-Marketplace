function GetDefaultForm(){GetDefaoutStyle();clear()}function GoToOption(){window.location.href="/SimpleProductOption/Alter"}function GetDefaoutStyle(){$.ajax({url:"/SimpleProduct/GetDefaoutStyle",data:{},type:"POST",dataType:"json"}).success(function(n){n.FileFound?($("#sname").text(n.name),$("#scategory").text(n.category),$("#sbrand").text(n.brand),$("#smodel").text(n.model),$("#sdescription").text(n.description),$("#sprice").text(n.price)):jsonFileNotFound()}).error(function(){$("#Status").html("Erro na tentativa de busca")})}function GetSubCategory(n){$.ajax({url:"/SimpleProduct/GetSubCategory",type:"POST",data:{categoryId:n},dataType:"json"}).success(function(n){$("#ddmSubCategory").empty();$(n).each(function(n,t){$("#ddmSubCategory").append("<li><a class='itemSubCategory' id='"+t.Id+"'>"+t.Name+"<\/a><\/li>")})}).error(function(){alert("Nenhum resultado encontrado")})}function Salvar(){var n=[];$(".image").each(function(t){n[t]=$(this).val()});$.ajax({url:"/SimpleProduct/Salvar",data:{id:id,displayOnPage:$("#DisplayOnPage").prop("checked"),displayOnlyPage:$("#DisplayOnlyPage").prop("checked"),name:$("#name").val(),brand:$("#brand").val(),category:categoryId,subCategory:subCategoryId,model:$("#model").val(),price:$("#price").val(),img1:n[0],img2:n[1],img3:n[2],description:$("#description").val(),tags:$("#tags").val(),stName:toStyle($("#sname").text()),stBrand:toStyle($("#sbrand").text()),stCategory:toStyle($("#scategory").text()),stModel:toStyle($("#smodel").text()),stPrice:toStyle($("#sprice").text()),stDescription:toStyle($("#sdescription").text())},type:"POST",cache:!1,headers:{__RequestVerificationToken:token},dataType:"json"}).success(function(n){jsonSuccess(n)}).error(function(){$("#Status").html("Erro na tentativa de salvar dados")})}var categoryId,subCategoryId;$(document).ready(function(){categoryId=$("#category").data("categoryid");subCategoryId=$("#subCategory").data("subcategoryid");$(".itemCategory").on("click",function(){var n=$(this).text();categoryId=$(this).attr("id");$(this).parents(".btn-group").find("#category").html(n+"   <span class='caret'><\/span>");$("#subCategory").html('Selecione uma sub categoria <span class="caret"><\/span>');GetSubCategory(categoryId)});$(document).on("click",".itemSubCategory",function(){var n=$(this).text();subCategoryId=$(this).attr("id");$(this).parents(".btn-group").find("#subCategory").html(n+"   <span class='caret'><\/span>")})});$(document).ready(function(){id===guidEmpity&&GetDefaultForm()});$(document).ready(function(){$("#defaultForm").bootstrapValidator({message:"This value is not valid",fields:{name:{validators:{notEmpty:{},regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras e números são permitidos"},stringLength:{min:2,max:32,message:"O campo Nome deve conter entre 2 e 32 digitos"}}},brand:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras e números são permitidos"},stringLength:{min:2,max:32,message:"O campo Marca deve conter entre 2 e 32 digitos"}}},model:{validators:{regexp:{regexp:/^[0-9A-Za-záàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ\s]+$/,message:"Apenas letras e números são permitidos"},stringLength:{min:2,max:32,message:"O campo Modelo deve conter entre 2 e 32 digitos"}}},price:{validators:{stringLength:{max:6}}},img:{validators:{notEmpty:{},stringLength:{max:32}}},description:{validators:{stringLength:{min:12,max:512,message:"O campo Descrição deve conter entre 12 e 512 digitos"}}},tags:{validators:{stringLength:{min:4,max:512,message:"O campo Tags de Busca deve conter entre 4 e 512 digitos"}}}}}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target),i=t.data("bootstrapValidator");Salvar()})});