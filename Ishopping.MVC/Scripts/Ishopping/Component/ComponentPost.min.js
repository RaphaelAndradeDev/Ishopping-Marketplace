function GetDefaultForm(){GetDefaoutStyle();clear()}function GoToOption(){window.location.href="/PostOption/Alter"}function GotoSinglePost(n){n!==guidEmpity&&window.open("/AppView/SinglePost/"+n)}function GetDefaoutStyle(){$.ajax({url:"/Post/GetDefaoutStyle",data:{},type:"POST",dataType:"json"}).success(function(n){n.FileFound?($("#stitulo").text(n.titulo),$("#sautor").text(n.autor),$("#scategoria").text(n.categoria),$("#ssubtitulo").text(n.subtitulo),$("#sparagrafo").text(n.paragrafo)):jsonFileNotFound()}).error(function(){$("#Status").html("Erro na tentativa de busca")})}function modelIsValid(){var t=$(".model").text(),n;t.trim()==="Selecione um modelo"?($("#Status").html('<strong style="color:red">Selecione um modelo para esse post<\/strong>'),$("#Status").fadeIn(500),$("#salvar").prop("disabled",!0)):(n=modelValidate(model),n==!0?Salvar():($("#Status").html('<strong style="color:red">O modelo escolhido requer '+n+"<\/strong>"),$("#Status").fadeIn(500),$("#salvar").prop("disabled",!0)))}function Salvar(){var n=[];$(".image").each(function(t){n[t]=$(this).val()});$.ajax({url:"/Post/Salvar",data:{id:id,displayOnPage:$("#displayOnPage").prop("checked"),displayOnlyPage:$("#DisplayOnlyPage").prop("checked"),model:model,titulo:$("#titulo").val(),subTitulo1:$("#subTitulo1").val(),paragrafo1:$("#paragrafo1").val(),subTitulo2:$("#subTitulo2").val(),paragrafo2:$("#paragrafo2").val(),subTitulo3:$("#subTitulo3").val(),paragrafo3:$("#paragrafo3").val(),autor:$("#autor").val(),categoria:$("#categoria").text(),img1:n[0],img2:n[1],img3:n[2],video:$("#video").val(),tags:$("#tags").val(),stTitulo:toStyle($("#stitulo").text()),stCategoria:toStyle($("#scategoria").text()),stAutor:toStyle($("#sautor").text()),stSubTitulo:toStyle($("#ssubtitulo").text()),stParagrafo:toStyle($("#sparagrafo").text())},type:"POST",cache:!1,headers:{__RequestVerificationToken:token},dataType:"json"}).success(function(n){jsonSuccess(n)}).error(function(){$("#Status").html("Erro na tentativa de salvar dados")})}function modelValidate(n){var t=!0;switch(n){case"_PartialPost_1":t=model_1_Validate();break;case"_PartialPost_2":t=model_2_Validate();break;case"_PartialPost_3":t=model_3_Validate();break;case"_PartialPost_4":t=model_4_Validate();break;case"_PartialPost_5":t=model_5_Validate();break;case"_PartialPost_6":t=model_6_Validate();break;case"_PartialPost_7":t=model_7_Validate();break;case"_PartialPost_8":t=model_8_Validate();break;case"_PartialPost_9":t=model_9_Validate()}return t}function model_1_Validate(){return imgCount(1)?!0:"1 imagem"}function model_2_Validate(){return imgCount(2)?!0:"2 imagens"}function model_3_Validate(){return imgCount(3)?!0:"3 imagens"}function model_4_Validate(){return imgCount(1)?!0:"ao menos 2 imagens"}function model_5_Validate(){return imgCount(2)&&exVideo()?!0:"ao menos 2 imagens e 1 vídeo"}function model_6_Validate(){return imgCount(1)&&exVideo()?!0:"1 imagem e 1 vídeo"}function model_7_Validate(){return imgCount(2)&&exVideo()?!0:"ao menos 2 imagens e 1 vídeo"}function model_8_Validate(){return imgCount(2)&&exVideo()?!0:"ao menos 2 imagens e 1 vídeo"}function model_9_Validate(){return exVideo()?!0:"1 vídeo"}function imgCount(n){var t=$(".image").size();return t>=n}function exVideo(){var n=$("#video").val();return!!n}var model;$(".dropdown-menu li a").click(function(){var n=$(this).text();$(this).parents(".btn-group").find("#categoria").text(n)});$(document).ready(function(){id===guidEmpity&&GetDefaultForm()});$(document).ready(function(){$(".model").dropdown();$("[name='model']").on("click",function(){var n=$(this).text();model=$(this).attr("id");$(this).parents(".btn-group").find(".model").html(n+"   <span class='caret'><\/span>")});model=$("#model").data("model");$("[name=model]").each(function(){var t=$(this).attr("id"),n;if(t===model)return n=$(this).text(),$(this).parents(".btn-group").find(".model").html(n+"   <span class='caret'><\/span>"),!1});$("#defaultForm").bootstrapValidator({message:"This value is not valid",fields:{titulo:{validators:{notEmpty:{},stringLength:{max:64}}},img1:{validators:{notEmpty:{},stringLength:{max:32}}},img2:{validators:{stringLength:{max:32}}},img3:{validators:{stringLength:{max:32}}},subTitulo1:{validators:{notEmpty:{},stringLength:{max:128}}},subTitulo2:{validators:{stringLength:{max:128}}},subTitulo3:{validators:{stringLength:{max:128}}},paragrafo1:{validators:{notEmpty:{},stringLength:{max:5120}}},paragrafo2:{validators:{stringLength:{max:5120}}},paragrafo3:{validators:{stringLength:{max:5120}}},categoria:{validators:{stringLength:{max:32}}},autor:{validators:{stringLength:{max:32}}},video:{validators:{uri:{allowLocal:!1}}},tags:{validators:{stringLength:{min:4,max:512,message:"O campo Tags de Busca deve conter entre 4 e 512 digitos"}}}}}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target),i=t.data("bootstrapValidator");modelIsValid()})});