function imageChecked(n,t,i,r,u,f){this.Id=n;this.SiteNumber=t;this.FileType=i;this.FileName=r;this.Checked=u;this.IsBlock=f}function removeItemOfArray(n){listChecked=$.grep(listChecked,function(t){return t.Id!=n})}function createImgList(){$(".block").each(function(){var n=$(this).parents(".caption").find('[type="hidden"]').data("imgid"),t=$(this).parents(".caption").find('[type="hidden"]').data("sitenumber"),i=$(this).parents(".caption").find('[type="hidden"]').data("imgfiletype"),r=$(this).parents(".caption").find('[type="hidden"]').data("imgfilename"),u=new imageChecked(n,t,i,r,!0,!1);listChecked.push(u)})}var token=$("[name=__RequestVerificationToken]").val(),listChecked=[];$(".noCheck").on("click",function(){var n=$(this).parents(".caption").find('[type="hidden"]').data("imgid"),i=$(this).parents(".caption").find('[type="hidden"]').data("sitenumber"),r=$(this).parents(".caption").find('[type="hidden"]').data("imgfiletype"),u=$(this).parents(".caption").find('[type="hidden"]').data("imgfilename"),t;$(this).removeClass("btn-default");$(this).addClass("btn-primary");$(this).parents(".caption").find(".block").removeClass("btn-danger").addClass("btn-default");removeItemOfArray(n);t=new imageChecked(n,i,r,u,!1,!1);listChecked.push(t)});$(".block").on("click",function(){var n=$(this).parents(".caption").find('[type="hidden"]').data("imgid"),i=$(this).parents(".caption").find('[type="hidden"]').data("sitenumber"),r=$(this).parents(".caption").find('[type="hidden"]').data("imgfiletype"),u=$(this).parents(".caption").find('[type="hidden"]').data("imgfilename"),t;$(this).removeClass("btn-default");$(this).addClass("btn-danger");$(this).parents(".caption").find(".noCheck").removeClass("btn-primary").addClass("btn-default");removeItemOfArray(n);t=new imageChecked(n,i,r,u,!0,!0);listChecked.push(t)});$(document).ready(function(){createImgList()});$("#Salvar").on("click",function(){$.ajax({url:"/AdminCheckProfile/Salvar",data:{imageChecked:JSON.stringify(listChecked)},type:"POST",cache:!1,headers:{__RequestVerificationToken:token},dataType:"json"}).success(function(){location.reload()}).error(function(){$("#Status").html("Erro na tentativa de salvar dados")})});