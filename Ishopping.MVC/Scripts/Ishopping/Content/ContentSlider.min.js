function GetDefaultForm(){clear();id=guidEmpity;$("#Info").empty();$("#txtSlider").val(SetPosition());$("input").not("[name=txtsearch],[name=txtSlider]").prop("disabled",!0);$("button[type=submit], .btn-default,#deletar").prop("disabled",!0);$("#btnSliderName").html('Selecione um slider &nbsp&nbsp<span class="caret"><\/span>');$("#btnSliderClass").html('Selecione a classe do slider &nbsp&nbsp<span class="caret"><\/span>');$("#fz").html("px &nbsp&nbsp<span class='caret'><\/span>");$("#btnSliderName,#btnSliderClass,#novo,.txt").prop("disabled",!0);viewCod&&GetSlideType()}function SetPosition(){return ps=$("#txtSlider").val(),ps?(ps=parseInt(ps),ps>=1&&ps<=maxps?ps:1):1}function GetSlideType(){$.ajax({url:"/Slider/GetSlideType",type:"POST",data:{viewCod:viewCod},dataType:"json"}).success(function(n){$("#ddmSliderType").empty();$("#ddmSliderName").empty();$("#ddmSliderClass").empty();maxps=n.maxps;$(n.admSt).each(function(n,t){$("#ddmSliderType").append("<li><a name='SliderType' id='"+t.Key+"'>"+t.Value+"<\/a><\/li>")});$("#btnSelect").text("Selecione 1/"+maxps);$("#txtSlider").attr({max:+maxps,placeholder:"slider max "+maxps});$("#btnSliderType,#novo").prop("disabled",!1)}).error(function(){alert("Nenhum resultado encontrado")})}function GetSlider(){$.ajax({url:"/Slider/GetResult",type:"POST",data:{viewCod:viewCod,ps:ps,item:item},dataType:"json"}).success(function(n){ps<=n.maxps?(id=n.cs.Id,$("#btnSliderType").html(n.st+'&nbsp&nbsp<span class="caret"><\/span>'),$("#btnSliderName").html(n.cs.SliderName+'&nbsp&nbsp<span class="caret"><\/span>'),$("#btnSliderClass").html(n.cs.SliderClass+'&nbsp&nbsp<span class="caret"><\/span>'),$("#Incoming").val(n.cs.Incoming),$("#Outgoing").val(n.cs.Outgoing),$("#DataStart").val(n.cs.DataStart),$("#DataEnd").val(n.cs.DataEnd),$("#DataX").val(n.cs.DataX),$("#DataY").val(n.cs.DataY),$("#DataHoffset").val(n.cs.DataHoffset),$("#DataVoffset").val(n.cs.DataVoffset),$("#DataSpeed").val(n.cs.DataSpeed),$("#DataEndSpeed").val(n.cs.DataEndSpeed),$("#DataEasing").val(n.cs.DataEasing),$("#DataEndEasing").val(n.cs.DataEndEasing),$("#DataSplitin").val(n.cs.DataSplitin),$("#DataSplitout").val(n.cs.DataSplitout),$("#DataElementdelay").val(n.cs.DataElementdelay),$("#DataEndelementdelay").val(n.cs.DataEndelementdelay),$("#DataImgWidth").val(n.cs.DataImgWidth),$("#DataImgHeight").val(n.cs.DataImgHeight),$("#DataImgZindex").val(n.cs.DataImgZindex),$("#Caption").val(n.cs.Caption),$("#sttext").text(n.cs.StyleClass),$("#Text").val(n.cs.Text),$("#Url").val(n.cs.Url),$("#ImageFileName").val(n.cs.ImageFileName),$("#ddmSliderType").empty(),$("#ddmSliderName").empty(),$("#ddmSliderClass").empty(),$(n.admSt).each(function(n,t){$("#ddmSliderType").append("<li><a name='SliderType' id='"+t.Key+"'>"+t.Value+"<\/a><\/li>")}),$("input, button").prop("disabled",!1),$("#btnSliderName,#btnSliderClass").prop("disabled",!0),slideType=n.cs.SliderType,slideName=n.cs.SliderName,slideClass=n.cs.SliderClass,selectTxt(slideType)):alert("Não existe nenhum slider para posição "+ps+". O número máximo de slider(s) para essa view é "+n.maxps+", e o número máximo de itens é 12")}).error(function(){alert("Nenhum resultado encontrado")})}function GetSlideName(){$.ajax({url:"/Slider/GetSlideName",type:"POST",data:{viewCod:viewCod,slideType:slideType},dataType:"json"}).success(function(n){$("#ddmSliderName").empty();$("#ddmSliderClass").empty();$(n).each(function(n,t){$("#ddmSliderName").append("<li><a name='SliderName'>"+t+"<\/a><\/li>")});$("#btnSliderName").prop("disabled",!1)}).error(function(){alert("Nenhum resultado encontrado")})}function GetSlideClass(){$.ajax({url:"/Slider/GetSlideClass",type:"POST",data:{viewCod:viewCod,slideType:slideType,slideName:slideName},dataType:"json"}).success(function(n){$("#ddmSliderClass").empty();$(n).each(function(n,t){$("#ddmSliderClass").append("<li><a name='SliderClass'>"+t+"<\/a><\/li>")})}).error(function(){alert("Nenhum resultado encontrado")})}function Salvar(){ps=$("#txtSlider").val();ps=parseInt(ps);ps>=1&&ps<=maxps&&salvarS()}function salvarS(){var t=$("#defaultForm"),n={};t.find("[name]").not("[name=__RequestVerificationToken]").each(function(t,i){var r=$(this),u=r.attr("name"),i=r.val();n[u]=i});n.Id=id;n.Position=ps;n.ViewCod=viewCod;n.SliderType=slideType;n.SliderName=slideName;n.SliderClass=slideClass;n.StyleClass=$("#sttext").text();myJSON=JSON.stringify(n);$.ajax({url:"/Slider/Salvar",data:{data:myJSON},type:"POST",cache:!1,headers:{__RequestVerificationToken:token},dataType:"json"}).success(function(n){jsonSuccess(n)}).error(function(){$("#Status").html("Erro na tentativa de salvar dados")})}function selectTxt(n){$("#Info").empty();$(".tag,.txt,.st,.config,.textconfig,.imgconfig").prop("disabled",!0);switch(parseInt(n)){case 1:$(".tag,.st,.config,#Text,#Caption,#btnCaptions,#Url").prop("disabled",!1);break;case 2:$(".tag,.st,.config,.textconfig,#Text").prop("disabled",!1);break;case 3:$("#Url").prop("disabled",!1);break;case 4:$(".config,.imgconfig,#ImageFileName").prop("disabled",!1)}}function ValidateTxt(n){if(!viewCod)return $("#Status").html("<strong>Por favor selecione uma view!<\/strong>"),!1;$("#Info").empty();var t="",i="<p class='Color1'>",r="<\/p>";switch(parseInt(n)){case 1:t+=PositionValidate(i,r);t+=TextValidate(i,r);break;case 2:t+=PositionValidate(i,r);t+=TextValidate(i,r);break;case 3:t+=UrlValidate(i,r);break;case 4:t+=PositionValidate(i,r);t+=ImageValidate(i,r)}return t?($("#Info").append(t),!1):!0}function TextValidate(n,t){var i=$("#Text").val();return""+isNull(i,"Texto",n,t)}function PositionValidate(n,t){var i="",r=$("#DataX").val(),u=$("#DataY").val();return i+=isNull(r,"Posição X",n,t),i+=isNaN(r)?strValidate(r,["left","center","right"],"Posição X",n,t):intValidate(r,-2500,2500,"Posição X",n,t),i+=isNull(u,"Posição Y",n,t),i+(isNaN(u)?strValidate(u,["top","center","bottom"],"Posição Y",n,t):intValidate(u,-2500,2500,"Posição Y",n,t))}function UrlValidate(n,t){var i=$("#Url").val();return""+isNull(i,"Url",n,t)}function ImageValidate(n,t){var i="",r=$("#DataImgWidth").val(),u=$("#DataImgHeight").val(),f=$("#DataImgZindex").val(),e=$("#ImageFileName").val();return i+=intValidate(r,10,800,"Imagem Largura",n,t),i+=intValidate(u,10,800,"Imagem Altura",n,t),i+=intValidate(f,1,24,"Imagem Z-Index",n,t),i+isNull(e,"Nome da imagem",n,t)}function isNull(n,t,i,r){var u="";return n||(u+=i+t+" não pode ser nulo"+r),u}function strValidate(n,t,i,r,u){var f="";return jQuery.inArray(n,t)==-1&&(f+=r+" argumento inválido para o campo "+i+u),f}function intValidate(n,t,i,r,u,f){var e="";return n||(n=0),Number.isInteger(parseInt(n))&&(n<t||n>i)&&(e=u+"digite um número entre "+t+" e "+i+" para "+r+f),e}var viewCod,ps,maxps,item,slideType,slideName,slideClass;$(document).ready(function(){GetDefaultForm()});$(document).ready(function(){$.each(["medium_grey","small_text","medium_text","large_text","very_large_text","very_big_white","very_big_black","modern_medium_fat","modern_medium_fat_white","modern_medium_light","modern_big_bluebg","modern_big_redbg","modern_small_text_dark","thinheadline_dark","thintext_dark","largeblackbg","largepinkbg","largewhitebg","largegreenbg","excerpt","large_bold_grey","medium_thin_grey","small_thin_grey","lightgrey_divider","large_bold_darkblue","medium_bg_darkblue","medium_bold_red","medium_light_red","medium_bg_red","medium_bold_orange","medium_bg_orange","large_bold_white","medium_light_white","mediumlarge_light_white","mediumlarge_light_white_center","medium_bg_asbestos","medium_light_black","large_bold_black","mediumlarge_light_darkblue","small_light_white","large_bg_black","mediumwhitebg"].sort(),function(n,t){$("#ddmCaptions").append("<li><a>"+t+"<\/a><\/li>")})});$(document).ready(function(){$("[name=search]").on("click",function(){ps=$("#txtSlider").val();ps=parseInt(ps);item=$("#txtItem").val();item=parseInt(item);ps>0&&ps<8&&item>0&&item<12&&GetSlider()})});$(document).ready(function(){$("#ddmViews li a").click(function(){var n=$(this).text();viewCod=$(this).attr("id");$(this).parents(".btn-group").find(".views").text(n);GetDefaultForm()});$("#ddmCaptions li a").click(function(){var n=$(this).text();$(this).parents(".input-group").find("#Caption").val(n)});$(".dropdown-menu-right li a").click(function(){var n=$(this).text();$(this).parents(".input-group").find(".ddm").html(n+"&nbsp&nbsp<span class='caret'><\/span>").val(n)});$(".dropdown-menu li a").click(function(){var n=$(this).text();$(this).parents(".btn-group").find(".ddm").text(n).val(n)})});$(document).ready(function(){$(document).on("click","[name='SliderType']",function(){var n=$(this).text();slideType=$(this).attr("id");$(this).parents(".btn-group").find(".sltype").html(n+"&nbsp&nbsp<span class='caret'><\/span>");$("#btnSliderName").html('Selecione um slider &nbsp&nbsp<span class="caret"><\/span>');$("#btnSliderClass").html('Selecione a classe do slider &nbsp&nbsp<span class="caret"><\/span>');$("#btnSliderName,#btnSliderClass").prop("disabled",!0);selectTxt(slideType);GetSlideName()});$(document).on("click","[name='SliderName']",function(){slideName=$(this).text();$(this).parents(".btn-group").find(".slname").html(slideName+"&nbsp&nbsp<span class='caret'><\/span>");$("#btnSliderClass").html('Selecione a classe do slider &nbsp&nbsp<span class="caret"><\/span>');$("#btnSliderClass").prop("disabled",!1);GetSlideClass()});$(document).on("click","[name='SliderClass']",function(){slideClass=$(this).text();$(this).parents(".btn-group").find(".slclass").html(slideClass+"&nbsp&nbsp<span class='caret'><\/span>")})});$(document).ready(function(){$("#defaultForm").bootstrapValidator({message:"This value is not valid",fields:{txtSlider:{validators:{notEmpty:{}}},DataX:{validators:{notEmpty:{}}},DataY:{validators:{notEmpty:{}}},DataHoffset:{validators:{between:{min:-2500,max:2500}}},DataVoffset:{validators:{between:{min:-2500,max:2500}}},DataStart:{validators:{between:{min:1,max:2e4}}},DataSpeed:{validators:{between:{min:100,max:2e4}}},DataEndSpeed:{validators:{between:{min:100,max:2e4}}},FontSize:{validators:{between:{min:1,max:200}}},txtBorderWidth:{validators:{between:{min:1,max:32}}},txtSpacing:{validators:{between:{min:1,max:64}}},Color:{validators:{hexColor:{}}},BackgroundColor:{validators:{hexColor:{}}},borderColor:{validators:{hexColor:{}}},Text:{validators:{stringLength:{max:128}}},ImageFileName:{validators:{stringLength:{max:15}}},Url:{validators:{uri:{allowLocal:!0}}}}}).on("success.form.bv",function(n){n.preventDefault();var t=$(n.target),i=t.data("bootstrapValidator");ValidateTxt(slideType)&&Salvar()})});